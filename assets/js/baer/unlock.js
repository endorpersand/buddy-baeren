function loadUnlockedTags(){let e,n=localStorage.getItem(UNLOCKED_KEY);return e=null!=n?JSON.parse(n):{},new Map(Object.entries(e))}function saveUnlockedTags(e){let n=Object.fromEntries(e);localStorage.setItem(UNLOCKED_KEY,JSON.stringify(n)),updateLocks()}function unlockTag(e,n=null){unlocked.set(e,n),saveUnlockedTags(unlocked)}function lockTag(e){unlocked["delete"](e),saveUnlockedTags(unlocked)}function isTagUnlocked(e){return unlocked.has(e)}function updateLocks(){for(let e of document.querySelectorAll(`[${BAER_CONTENT_ATTR}]`)){let n=e.getAttribute(BAER_CONTENT_ATTR),o=unlocked.get(n);console.log(`updating ${n} to (${unlocked.has(n)}, ${o})`,unlocked);let t=!0;if(unlocked.has(n)){let n=e.getAttribute(BAER_OPTION_ATTR);null!=n&&n!=o||(t=!1)}t?e.classList.add(HIDDEN):e.classList.remove(HIDDEN),null!=o&&pressButton(n,o)}}const UNLOCKED_KEY="unlocked",BAER_KEY_ATTR="baer-key",BAER_CONTENT_ATTR="baer-content",BAER_OPTION_ATTR="baer-option",HIDDEN="d-none";var unlocked=new Map;console.log("enabling unlock script"),window.addEventListener("load",()=>{unlocked=loadUnlockedTags(),updateLocks()});